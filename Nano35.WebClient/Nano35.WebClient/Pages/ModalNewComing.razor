<div class="modal-background">
    <div class="modal-content card">
        <h4 class="card-header">Новое оприходование</h4>
        <div class="card-body">
        @if (!_loading)
        {
            <EditForm Model="@_model" OnValidSubmit="Create">
                <DataAnnotationsValidator />
                <div class="form-group">
                    <label>Номер оприходования</label>
                    <InputText @bind-Value="_model.Number" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Клиент</label>
                    <InputSelect @bind-Value="_model.ClientId" class="custom-select">
                        <option selected disabled>Choose...</option>
                        @foreach (var item in Clients)
                        {
                            <option value="@item.Id">@item.Name </option>
                        }
                    </InputSelect>
                </div>
                <div class="form-group">
                    <label>Подразделение</label>
                    <InputSelect @bind-Value="_model.UnitId" class="custom-select">
                        <option selected disabled>Choose...</option>
                        @foreach (var item in Units)
                        {
                            <option value="@item.Id">@item.Name </option>
                        }
                    </InputSelect>
                </div>
                <div class="form-group">
                    <label>Комментарий</label>
                    <InputText @bind-Value="_model.Comment" class="form-control" />
                </div>
                <button class="btn btn-outline-primary"
                        style="width: 100%"
                        @onclick="ShowModalNewComingDetail">
                    Добавить
                </button>
                <table class="table" style="font-size: 12px">
                    <thead>
                        <tr>
                            <th>Товар</th>
                            <th>Количество</th>
                            <th>Цена</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>1</td>
                            <td>1</td>
                            <td>1</td>
                        </tr>
                    </tbody>
                </table>
                @if (!string.IsNullOrEmpty(_error))
                {
                    <div class="alert alert-danger mt-3 mb-0">@_error</div>
                }
                <div class="btn-group">
                    <button class="btn btn-primary">
                        Создать
                    </button>
                    <button class="btn btn-secondary"
                            @onclick="HideModalNewComing">Закрыть
                    </button>
                </div>
            </EditForm>
        }
        </div>
    </div>
</div>

@if (_isNewComingDetailDisplay)
{
    <ModalNewComingDetail
        OnHideModalNewComingDetail="HideModalNewComingDetail"/>
}